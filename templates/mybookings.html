{% extends "base.html" %}

{% block content %}

<div class="container text-center">
    <h1>My Bookings</h1>
        {% if user.is_authenticated %}
            <h2>Upcoming:</h2>
            <div class="row col justify-content-center">            
                {% for booking in upcoming_bookings %}
                        <!-- Card to display bookings -->
                        <div class="card">
                            <img src="#" class="card-img-top" alt="#">
                            <div class="card-body">
                                <h3 class="card-title">Check-in: {{ booking.check_in_date|date:"d/m/Y" }}</h3>
                                <p class="card-text">Nights: {{ booking.number_of_nights }}</p>
                                <p class="card-text">Room: {{ booking.type_of_room}}</p>
                                <p class="card-text">Guests: {{ booking.number_of_guests}}</p>
                                <a href="/update/{{ booking.id }}" class="btn btn-primary">Update</a>
                                <a href="/cancel/{{ booking.id }}" class="btn btn-danger">Delete</a>
                            </div>
                        </div>
                    {% empty %}
                    <p>You don't have any Upcoming bookings</p>
                {% endfor %}
            </div>
            <h2>Past:</h2>
            <div class="row col justify-content-center">                
                {% for booking in past_bookings %}
                        <!-- Card to display bookings -->                 
                        <div class="card">
                            <img src="#" class="card-img-top" alt="#">
                            <div class="card-body">
                                <h3 class="card-title">Check-in: {{ booking.check_in_date|date:"d/m/Y" }}</h3>
                                <p class="card-text">Nights: {{ booking.number_of_nights }}</p>
                                <p class="card-text">Room: {{ booking.type_of_room}}</p>
                                <p class="card-text">Guests: {{ booking.number_of_guests}}</p>
                            </div>
                        </div>
                    {% empty %}
                    <p>You don't have any Past Bookings</p>                  
                {% endfor %}
            </div>
        {% else %}
            <h2>Please Sign in to view your bookings</h2>
            <a href="{% url 'account_login' %}">
                <button>Sign in</button>
            </a>
        {% endif %}
</div>
{%endblock%}